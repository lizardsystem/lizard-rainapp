{% load workspaces %}
{% load utility %}
{# header #}
<div>
  <img src="{{ symbol_url }}" />&nbsp;
  <strong>{{ title|truncatewords:8 }}</strong>
</div>
{% for element in info %}
{# bar graph #}
<div style="width: 100%; height: 240px;"
     class="img-use-my-size">
  <a href="{{ element.image_url }}"
     class="replace-with-image">
    afbeelding nog niet geladen
  </a>
</div>
{# table #}
<table>
<thead>
  {% if info|length > 1 %}
  <tr>
    <th colspan="2">{{ element.location }}</th>
  </tr>
  {% endif %}
  <tr>
    <th>Tijdspanne</th>
    <th>Max (mm)</th>
    <th>Start</th>
    <th>Eind</th>
    <th>Herhalingstijd
    </th>
  </tr>
</thead>
<tbody>
  {% for table_row in element.table %}
  <tr>
  <td>{{ table_row.td_window|short_timedelta }}</td>
  <td>{{ table_row.max|floatformat:0|default:'-' }}</td>
  <td>{{ table_row.start|date:"d-m-Y H:i"|default:'-' }}</td>
  <td>{{ table_row.end|date:"d-m-Y H:i"|default:'-' }}</td>
  <td>T = {{ table_row.t|floatformat:0|default:'' }}</td>
  </tr>
  {% endfor %}
</tbody>
</table>
{# Extra buttons #}
<table>
  <tr>
    {% if info|length > 1 %}
    <td>
      {{ element.name }}
    </td>
    {% endif %}
    {% if add_snippet %}
    <td class="button">
      <a href=""
         class="add-snippet ss_chart_line_add ss_sprite"
         data-workspace-id="{{ workspace_item.workspace.id }}"
         data-workspace-item-id="{{ workspace_item.id }}"
         data-item-identifier='{{ element.identifier|json_escaped }}'
         data-item-shortname="{{ element.shortname }}"
         data-item-name="{{ element.name }}"
         title="Voeg toe aan collage">&nbsp;</a>
    </td>
    {% endif %}
    <td class="button">
      <a href="{% url lizard_map.export_identifier_csv %}?workspace_item_id={{workspace_item.id }}&identifier_json={{ element.identifier|json_escaped }}"
         class="ss_table_save ss_sprite noprint"
         title="Export csv"
         >export tijdreeksen</a>
    </td>
  </tr>
</table>
{% endfor %}
